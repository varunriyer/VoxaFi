<div class="transactions-container">
  <h1>Transactions</h1>

  <div class="transaction-form">
    <h2>Add Transaction</h2>
    <form (ngSubmit)="addTransaction()">
      <div class="form-row">
        <label for="amount">Amount</label>
        <input type="number" id="amount" [(ngModel)]="newTransaction.amount" name="amount" required placeholder="0.00" />
      </div>

      <div class="form-row">
        <label for="description">Description</label>
        <input type="text" id="description" [(ngModel)]="newTransaction.description" name="description" required placeholder="e.g., Grocery shopping" />
      </div>

      <div class="form-row">
        <label for="category">Category</label>
        <input type="text" id="category" [(ngModel)]="newTransaction.category" name="category" required placeholder="e.g., Food" />
      </div>

      <div class="form-row">
        <label for="date">Date</label>
        <input type="date" id="date" [(ngModel)]="newTransaction.date" name="date" required />
      </div>

      <div class="form-row">
        <label>Type</label>
        <select [(ngModel)]="newTransaction.type" name="type">
          <option value="income">Income</option>
          <option value="expense">Expense</option>
        </select>
      </div>

      <div class="form-actions">
        <button type="submit" [disabled]="isSubmitting">{{ isSubmitting ? 'Adding...' : 'Add Transaction' }}</button>
      </div>

      <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
    </form>
  </div>

  <div class="transactions-list">
    <h2>Your Transactions</h2>
    <div *ngIf="transactions.length > 0; else empty">
      <div class="transaction-item" *ngFor="let t of transactions">
        <div class="left">
          <div class="desc">{{ t.description }}</div>
          <div class="meta">{{ t.category }} â€¢ {{ t.date | date:'mediumDate' }}</div>
        </div>
        <div class="right" [ngClass]="{income: t.type === 'income', expense: t.type === 'expense'}">
          {{ t.amount | currency }}
        </div>
      </div>
    </div>
    <ng-template #empty>
      <div class="empty-state">
        <p>No transactions yet.</p>
      </div>
    </ng-template>
  </div>
</div>